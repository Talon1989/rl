import numpy as np
import gym
import pandas as pd


env = gym.make('FrozenLake-v0')
n_actions = env.action_space.n
n_states = env.observation_space.n


def random_policy():
    return env.action_space.sample()


V = {}
for state in range(n_states):
    V[state] = 0.


def evaluate_states_random_policy(n_episodes=50_000, n_max_timesteps=10_000):
    alpha = 0.85
    gamma = 0.9
    for i in range(n_episodes):
        s = env.reset()
        for t in range(n_max_timesteps):
            a = random_policy()
            s_, r, done, _ = env.step(a)
            V[s] = V[s] + alpha * (r + gamma * V[s_] - V[s])
            if done:
                break
            s = s_
    return pd.DataFrame(V.items(), columns=['s', 'value'])


df = evaluate_states_random_policy()




















































































































































































































































































